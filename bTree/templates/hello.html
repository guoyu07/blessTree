<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="../static/plugin/wechat-jssdk/weixin-1.0.0.js"></script>
    <script src="../static/plugin/jquery/jquery.min.js"></script>
    <title>test</title>
</head>
<body>
<button class="onMenuShareTimeline" id="onMenuShareTimeline" style="height: 50px;width: 100%">您好</button>
<p>hello,{{ click_user }}</p>
</body>
<script>
    $(function () {
        wx.config({
              debug: false,
              appId: 'wxf8b4f85f3a794e77',
              timestamp: 1420774989,
              nonceStr: '2nDgiWM7gCxhL8v0',
              signature: '1f8a6552c1c99991fc8bb4e2a818fe54b2ce7687',
              jsApiList: [
                'checkJsApi',
                'onMenuShareTimeline',
                'onMenuShareAppMessage',
              ]
        });
        wx.ready(function () {
            // 1 判断当前版本是否支持指定 JS 接口，支持批量判断
{#            document.querySelector('#checkJsApi').onclick = function () {#}
                wx.checkJsApi({
                    jsApiList: [
                        'getNetworkType',
                        'previewImage'
                    ],
                    success: function (res) {
                        alert(JSON.stringify(res));
                    }
                });

                document.querySelector('#onMenuShareTimeline').onclick = function () {
                    wx.onMenuShareTimeline({
                      title: '互联网之子 方倍工作室',
                      link: 'http://movie.douban.com/subject/25785114/',
                      imgUrl: 'http://img3.douban.com/view/movie_poster_cover/spst/public/p2166127561.jpg',
                      trigger: function (res) {
                        alert('用户点击分享到朋友圈');
                      },
                      success: function (res) {
                        alert('已分享');
                      },
                      cancel: function (res) {
                        alert('已取消');
                      },
                      fail: function (res) {
                        alert(JSON.stringify(res));
                      }
                    });
                    alert('已注册获取“分享到朋友圈”状态事件');
                  };
{#            };#}
        });

    })
</script>
</html>